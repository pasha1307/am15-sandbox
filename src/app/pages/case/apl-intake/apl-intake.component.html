<app-nav-stepper [menu]="menu">
  <cdk-step [completed]="isCompleted" [stepControl]="f1">
    <mat-card class="w-2/3 m-auto">
      <section [formGroup]="f1">
        <mat-card-header class="my-2">
          <mat-card-title>Appeal Overview</mat-card-title>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content>
          <mat-form-field appearance="fill">
            <mat-label>Appeal Type</mat-label>
            <mat-select formControlName="aplType">
              <ng-container *ngFor="let it of aplTypes">
                <mat-option [value]="it.displayText">{{ it?.displayText}}</mat-option>
              </ng-container>
            </mat-select>
            <mat-error *ngIf="hasError('aplType', 'required')">
              Intake Type is required. Select an Intake Type option from the dropdown
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Intake Type</mat-label>
            <mat-select formControlName="intakeType">
              <ng-container *ngFor="let it of intakeTypes">
                <mat-option [value]="it">{{ it}}</mat-option>
              </ng-container>
            </mat-select>
            <mat-error *ngIf="hasError('intakeType', 'required')">
              Intake Type is required. Select an Intake Type option from the dropdown
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Form Type</mat-label>
            <mat-select formControlName="formType">
              <ng-container *ngFor="let ft of formTypes">
                <mat-option [value]="ft">{{ ft }}</mat-option>
              </ng-container>
            </mat-select>
            <mat-error *ngIf="hasError('formType', 'required')"
            >Form Type is required. Select a Form Type option from the dropdown
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Appeal Receipt Type</mat-label>
            <mat-select formControlName="receiptType">
              <ng-container *ngFor="let rt of receiptTypes">
                <mat-option [value]="rt">{{ rt }}</mat-option>
              </ng-container>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Appeal Submitted By</mat-label>
            <mat-select formControlName="aplSubmittedBy">
              <ng-container *ngFor="let asb of submittedByTypes">
                <mat-option [value]="asb">{{ asb }}</mat-option>
              </ng-container>
            </mat-select>
            <mat-error *ngIf="hasError('aplSubmittedBy', 'required')"> Select an Appeal Submitted By from the dropdown
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Pended Reason</mat-label>
            <mat-select formControlName="pendedReason">
                <mat-option value="one">Reason One</mat-option>
                <mat-option value="two">Reason Two</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Pended Appeal Request Date</mat-label>
            <input matInput formControlName="pendedReqStartDate" [matDatepicker]="pendedReqStartDatePicker"/>
            <mat-datepicker-toggle matSuffix [for]="pendedReqStartDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #pendedReqStartDatePicker></mat-datepicker>
            <mat-error *ngIf="hasError('pendedReqStartDate', 'required')">
              The Pended Appeal Request Date is required after selecting a Pended Reason. Select a Pended Appeal Request
              Date from the
              calendar.
            </mat-error>
            <mat-error *ngIf="hasError('pendedReqStartDate', 'dateRange')">
              The Pended Appeal Request Date cannot be dated after the Pended Appeal End Date. Select a valid Pended
              Appeal Request Date from
              the calendar.
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Pended Appeal End Date</mat-label>
            <input matInput formControlName="pendedReqEndDate" [matDatepicker]="pendedReqEndDatePicker"/>
            <mat-datepicker-toggle matSuffix [for]="pendedReqEndDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #pendedReqEndDatePicker></mat-datepicker>
            <mat-error *ngIf="hasError('pendedReqEndDate', 'required')">Valid End Date is required (MM/DD/YYYY).
            </mat-error>
            <mat-error *ngIf="hasError('pendedReqEndDate', 'dateRange')">
              The Pended Appeal Request End Date cannot be dated before the Pended Appeal Request Date. Select a valid
              Pended Appeal Request
              End Date from the calendar.
            </mat-error>
          </mat-form-field>

          <div class="div-appeal-info-xref-check">
            <mat-checkbox color="primary" formControlName="appCallReleaseHold">Appellant will call to release hold
            </mat-checkbox>
          </div>

          <mat-form-field appearance="fill">
            <mat-label>Xreference Type</mat-label>
            <mat-select formControlName="xreferenceType">
              <ng-container *ngFor="let xrt of xRefTypes">
                <mat-option [value]="xrt">{{ xrt}}</mat-option>
              </ng-container>
            </mat-select>
            <mat-error *ngIf="hasError('xreferenceType', 'required')"> Please, select a Xreference Type from the
              dropdown
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width" appearance="fill">
            <mat-label>Appeal Xreference</mat-label>
            <input matInput formControlName="xreference" placeholder="Only valid Appeal format, APL-XX is allowed"/>
<!--            <mat-error *ngIf="hasError('xreference', 'pattern')"> Only valid Appeal format, APL-XX is allowed.-->
<!--            </mat-error>-->
<!--            <mat-error *ngIf="hasError('xreference', 'required')"> Appeal Xreference must be entered in the text box.-->
<!--            </mat-error>-->
          </mat-form-field>

          <div>
            <button disabled class="div-appeal-info-xref-buttons-button" mat-stroked-button color="primary"
                    [mat-dialog-close]="true">Add Xref
            </button>
            <button disabled class="div-appeal-info-xref-buttons-button" mat-stroked-button color="primary"
                    [mat-dialog-close]="true">
              Xref Appeals
            </button>
          </div>
          <h3 class="mat-subheading-2">Processing Dates</h3>
          <mat-form-field appearance="fill">
            <mat-label>Receipt Date</mat-label>
            <input
              matInput
              formControlName="receiptDate"
              [min]="minDate"
              [max]="maxDate"
              [matDatepicker]="pd1"
              placeholder="Choose a date"
            />
            <mat-datepicker-toggle matSuffix [for]="pd1"></mat-datepicker-toggle>
            <mat-datepicker #pd1></mat-datepicker>
            <mat-error *ngIf="f1.get('receiptDate')?.hasError('required')">
              Receipt Date is required. Select a Receipt Date from the calendar.
            </mat-error>
            <mat-error *ngIf="f1.get('reciptDate')?.hasError('dateLessThanNewDate')">
              Receipt Date must be a previous date. Select a valid Receipt Date from the calendar.
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Hearing Receipt Date</mat-label>
            <input matInput formControlName="hearingRecieptDate" [min]="minDate" [max]="maxDate"
                   [matDatepicker]="pd2"/>
            <mat-datepicker-toggle matSuffix [for]="pd2"></mat-datepicker-toggle>
            <mat-datepicker #pd2></mat-datepicker>
            <mat-hint></mat-hint>
            <mat-error *ngIf="f1.get('hearingRecieptDate')?.hasError('dateLessThanNewDate')">
              Hearing Receipt Date must be a previous date. Select a valid Receipt Date from the calendar.
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Benefit Year</mat-label>
            <mat-select formControlName="planYear" required>
              <ng-container *ngFor="let item of benefitYear$ | async">
                <mat-option [value]="item.code">{{ item.displayText }}</mat-option>
              </ng-container>
            </mat-select>
            <mat-error *ngIf="f1.get('planYear')?.hasError('required')"
            >Benefit year is required. Select a Benefit year option from the dropdown
            </mat-error
            >
          </mat-form-field>

          <h2>EACMS RECERIVED DATES ????</h2>

        </mat-card-content>
        <mat-divider></mat-divider>
        <mat-card-actions align="end" class="my-3">
          <div class="flex justify-around">
            <button mat-button matStepperNext>Next</button>
            <button matStepperNext mat-flat-button color="primary" [disabled]="f1.invalid" (click)="completeStep()">Complete Step
            </button>
          </div>
        </mat-card-actions>
      </section>
      <!--      <pre>-->
      <!--          {{f1.value | json}}-->
      <!--        </pre>-->
    </mat-card>
  </cdk-step>

  <cdk-step>
    <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start">
      <mat-tab label="Appellants">
        <div class="mt-9 flex flex-wrap">
<!--          <app-intake-contacts *ngFor="let p of addresses1" [person]="p" (click)="onUpdate()"></app-intake-contacts>-->
          <mat-card class="min-w-[600px] m-4 long-card w-1/3 mat-elevation-z6" (click)="onUpdate()">
            <mat-card-header>
              <mat-card-title>NAME</mat-card-title>
              <mat-card-subtitle>Main Contact; Person Type</mat-card-subtitle>
            </mat-card-header>
<!--            <mat-divider></mat-divider>-->
            <mat-card-content class="flex justify-around min-h-[70px]">
              <div class="max-w-[170px]">
                <span>ADDRESS 1</span><br>
                <span>123 Main St</span>
                <span>apt 111</span>
                <span>Orlando, FL 112233</span>
              </div>
              <mat-divider vertical inset></mat-divider>
              <div>ADDRESS 2</div>
              <mat-divider vertical inset></mat-divider>
              <div>ADDRESS 3</div>
            </mat-card-content>
            <mat-card-actions>
              <div>PHONES
                <p>123-1221-1221</p>
              </div>
            </mat-card-actions>
            <mat-card-actions class="bg-amber-100">
            <div>EMAILS: </div>
              <div> test@email.com</div>
            </mat-card-actions>
          </mat-card>
          <mat-card (click)="onUpdate()" class="min-w-[600px] m-4 long-card w-1/3 mat-elevation-z6">
            <mat-card-header>
              <mat-card-title>ANOTHER NAME</mat-card-title>
              <mat-card-subtitle>Main Contact; Person Type</mat-card-subtitle>
            </mat-card-header>
<!--            <mat-divider></mat-divider>-->
            <mat-card-content class="flex justify-around min-h-[70px]">
              <div class="max-w-[170px]">
                <span>ADDRESS 1</span><br>
                <span>123 Main St</span>
                <span>apt 111</span>
                <span>Orlando, FL 112233</span>
              </div>
              <mat-divider vertical inset></mat-divider>
              <div>ADDRESS 2</div>
              <mat-divider vertical inset></mat-divider>
              <div>ADDRESS 3</div>
            </mat-card-content>
            <mat-card-actions>
              <div>PHONES
                <p>123-1221-1221</p>
              </div>
            </mat-card-actions>
            <mat-card-actions class="bg-amber-100">
            <div>EMAILS: </div>
              <div> test@email.com</div>
            </mat-card-actions>
          </mat-card>

          <mat-card class="m-4 long-card w-1/3 mat-elevation-z6" (click)="onUpdate()">
            <mat-card-header>
              <mat-card-title>SECOND APPELLANT</mat-card-title>
              <mat-card-subtitle>Main Contact; Person Type</mat-card-subtitle>
            </mat-card-header>
<!--            <mat-divider></mat-divider>-->
            <mat-card-content class="flex justify-around min-h-[70px]">
              <div class="max-w-[170px]">
                <span>ADDRESS 1</span><br>
                <span>123 Main St</span>
                <span>apt 111</span>
                <span>Orlando, FL 112233</span>
              </div>
              <mat-divider vertical inset></mat-divider>
              <div>ADDRESS 2</div>
              <mat-divider vertical inset></mat-divider>
              <div>ADDRESS 3</div>
            </mat-card-content>
            <mat-card-actions>
              <div>PHONES
                <p>123-1221-1221</p>
              </div>
            </mat-card-actions>
            <mat-card-actions class="bg-amber-100">
            <div>EMAILS: </div>
              <div> test@email.com</div>
            </mat-card-actions>
          </mat-card>
        </div>
      </mat-tab>
      <mat-tab label="Representatives">
        <!--        <div class="flex justify-around mt-9">-->
        <app-contact></app-contact>
        <!--          <app-intake-contacts></app-intake-contacts>-->
        <!--          <app-intake-contacts></app-intake-contacts>-->
        <!--          <app-intake-contacts></app-intake-contacts>-->
        <!--          <app-intake-contacts></app-intake-contacts>-->
        <!--        </div>-->
      </mat-tab>
    </mat-tab-group>


  </cdk-step>
  <cdk-step>
    step 3 is here
  </cdk-step>
  <cdk-step>Content 4</cdk-step>
  <cdk-step>Content 5</cdk-step>
  <cdk-step>Content 6</cdk-step>
  <cdk-step>Content 7</cdk-step>
  <cdk-step>Content 8</cdk-step>
  <cdk-step>Content 9</cdk-step>

</app-nav-stepper>
